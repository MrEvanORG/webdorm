{% extends 'patterns/base_dashboard.html' %}
{% load static %}

{% block title %}خانه{% endblock %}

{% block content %}
    <main class="dashboard-main" id="main-content">
        <header class="dashboard-top-nav">
            <button id="sidebar-toggle" class="toggle-btn" onclick="toggleSidebar()">
                <span></span><span></span><span></span>
            </button>
            <h2 class="page-title">خانه</h2>
        </header>

        {% if messages %}
        <div class="messages-container">
            {% for message in messages %}
                <div class="{% if message.tags == 'success' %}alert-success{% else %}alert-error{% endif %}">
                    <i class="fa-solid {% if message.tags == 'success' %}fa-circle-check{% else %}fa-circle-exclamation{% endif %}"></i>
                    {{ message }}
                </div>
            {% endfor %}
        </div>
        {% endif %}

        <section class="announcements-container">
            <h3 class="section-subtitle">اطلاعیه‌ها</h3>
            {% for notice in notices %}
            <div class="announcement-card">
                <h4>{{ notice.title }}</h4>
                <p>{{ notice.text }}</p>
                <span class="announcement-date">{{ notice.date_modified|date:"Y/m/d" }}</span>
            </div>
            {% empty %}
            <div class="empty-state" style="text-align: center; padding: 40px; opacity: 0.7;">
                <i class="fa-solid fa-bullhorn" style="font-size: 3rem; margin-bottom: 15px; color: #ccc;"></i>
                <p>در حال حاضر اطلاعیه‌ای وجود ندارد.</p>
            </div>
            {% endfor %}
        </section>
    </main>
</div>
{% endblock %}